{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión | Gym of Thrones</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="{% static 'css/core/login.css' %}">
</head>

<body >
    <div class="login-card">
        <h3 class="text-center mb-4 text-dark"> Gym of Thrones</h3>

        <form method="POST" novalidate>
            {% csrf_token %}

            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }} text-center">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            {% if request.GET.error == 'invalid' %}
            <div class="alert alert-danger text-center">
                ❌ RUT o contraseña incorrectos. Intenta nuevamente.
            </div>
            {% elif request.GET.error == 'sinrol' %}
            <div class="alert alert-warning text-center">
                ⚠️ Tu cuenta no tiene un rol asignado. Contacta al administrador.
            </div>
            {% elif request.GET.success == 'logout' %}
            <div class="alert alert-success text-center">
                Sesión cerrada correctamente.
            </div>
            {% endif %}



            <div class="mb-3">
                <label for="rut" class="form-label">RUT (sin puntos ni guion)</label>
                <input type="text"
                       name="rut"
                       id="rut"
                       class="form-control"
                       placeholder="Ej: 123456789"
                       autocomplete="username"
                       required>
            </div>

            <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <input type="password"
                       name="password"
                       id="password"
                       class="form-control"
                       placeholder="********"
                       autocomplete="current-password"
                       required>
            </div>

            <button type="submit" class="btn btn-custom w-100">Ingresar</button>
        </form>
    </div>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
